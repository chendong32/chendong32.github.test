<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.dao.ShiroUserDao">
	
	<select id="queryByPrimaryKey" resultType="com.pojo.ShiroUser">
		select 
			user_id userId, 
			user_name userName,
			password password,
			create_time createDate,
			update_time updateDate
		from shiro_user
		where user_id = #{id}
	</select>
	
	<select id="queryRoleName" resultType="com.pojo.ShiroUser" statementType="CALLABLE">
		{call getRoleName(
							#{userName,jdbcType=VARCHAR,mode=IN},
                            #{roleName,jdbcType=VARCHAR,mode=OUT})}
	</select>
	
	<select id="querySql" resultType="com.pojo.ShiroUser" >
		SELECT getPermissionName() as querySql
	</select>
	
	<select id="queryBySql" resultType="com.pojo.ShiroUser" >
		${querySql}
	</select>
	
</mapper>